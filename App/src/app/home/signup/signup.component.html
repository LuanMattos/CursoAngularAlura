<!--
  Sempre quando trabalhamos com formulario, obrigatóriamente temos que importar o FormsModule/ReactFormModule (validate no modelo)
-->

<h4 class="text-center"> Register to embrace a new world!</h4>

<form class="form mt-4" [formGroup]="signupForm">
  <div class="form-group">
    <input  placeholder="E-mail" class="form-control" autofocus formControlName="email">
    <app-vmessage *ngIf="signupForm.get('email').errors?.required" text="E-mail é obrigatório!"></app-vmessage>
    <app-vmessage *ngIf="signupForm.get('email').errors?.email" text="E-mail inválido!"></app-vmessage>
  </div>

  <div class="form-group">
    <input placeholder="Nome completo" class="form-control" formControlName="fullName">
    <app-vmessage *ngIf="signupForm.get('fullName').errors?.required" text="Nome completo é obrigatório!"></app-vmessage>
  </div>

  <div class="form-group">
    <input placeholder="Nome de usuário" class="form-control" formControlName="userName">
    <app-vmessage *ngIf="signupForm.get('userName').errors?.minlength" text="Mínimo 2 caracteres!"></app-vmessage>
    <app-vmessage *ngIf="signupForm.get('userName').errors?.maxlength" text="Máximo 30 caracteres!"></app-vmessage>
    <app-vmessage *ngIf="signupForm.get('userName').errors?.validadorPersonalizado" text="Campo obrigatório!"></app-vmessage>
    <small *ngIf="signupForm.get('userName').valid" class="text-success">Disponível</small>
  </div>

  <div class="form-group">
    <input type="password" placeholder="password" class="form-control" formControlName="password">
    <app-vmessage *ngIf="signupForm.get('password').errors?.required" text="Senha é obrigatória!"></app-vmessage>
    <app-vmessage *ngIf="signupForm.get('password').errors?.minlength" text="Mínimo 2 caracteres!"></app-vmessage>
    <app-vmessage *ngIf="signupForm.get('password').errors?.maxlength" text="Máximo 14 caracteres!"></app-vmessage>
  </div>

<!--  ATENNÇAAAAO - na sua validação, não esqueça de usar invalid & peding-->
  <button [disabled]="signupForm.invalid || signupForm.pending" class="btn btn-primary btn-block">Registrar</button>

  <app-vmessage
    text="Usuário já cadastrado"
    *ngIf="signupForm.get('userName').errors?.usuarioJaCadastrado"
  ></app-vmessage>


  <p>Já é registrado?<a [routerLink]="['']">Login!</a></p>
</form>
